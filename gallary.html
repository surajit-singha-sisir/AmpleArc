<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>GALLERIES</title>
    <link rel="stylesheet" href="gallary.css">
</head>

<body>

    <!-- PROJECT GALLERY START -->
    <div class="projectGallery">
        <div class="ohp-InnerBlock">
            
            <div class="background">
                <!-- BACKGROUND IMAGE -->
                <div class="backgroundImage">
                    <img alt="" src="gallery.png">
                </div>
                <!-- <div class="relativeWidth10 gal-1 galls"><img src="gal-1.png" alt=""></div>
                <div class="relativeWidth15 gal-2 galls"><img src="gal-2.png" alt=""></div>
                <div class="relativeWidth20 gal-3 galls"><img src="gal-3.png" alt=""></div>
                <div class="relativeWidth15 gal-4 galls"><img src="gal-4.png" alt=""></div>
                <div class="relativeWidth10 gal-5 galls"><img src="gal-5.png" alt=""></div> -->
                <audio id="audioPlayer" src="gun.mp3"></audio>
            </div>
        </div>
    </div>
    <!-- PROJECT GALLERY END -->
</body>
<script>
    print = console.log;
    function gallery() {
        const imgs = document.querySelectorAll('.background > div:not(:last-child)');
        // print(imgs);

        imgs.forEach(function (div) {
            div.onclick = function () {
                swapClasses(div);
            }
        });

    }
    gallery();

    function swapClasses(clickedDiv) {
        var centerDiv = document.querySelector('.gal-3');

        // Swap classes
        var tempClass = centerDiv.className;
        centerDiv.className = clickedDiv.className;
        clickedDiv.className = tempClass;
        const audio = document.getElementById('audioPlayer');
        audio.play();
        clickedDiv.style.transition = 'all 0.5s cubic-bezier(0.38,-0.25, 0, 1.7)';
    }



    // ON 320PX OR LESS DEVICES
    var media320px = window.matchMedia("(max-width:320px)");

    // On Mobile Device
    function viewSingle(media320px) {

        const singleImg = document.querySelectorAll('.background .galls');


        if (media320px.matches) {

            function showImages(index) {
                const currentIndex = index % singleImg.length;
                const img = singleImg[currentIndex];

                // HIDE ALL
                singleImg.forEach(img => {
                    img.style.opacity = '0';
                    img.classList = [];
                    img.classList.add('responsiveWidth');
                });

                    const centerClasses = ['relativeWidth20', 'gal-3'];
                    img.classList.add(...centerClasses);
                    img.style.opacity = '1';

                    setTimeout(() => {
                        // Remove centerClasses from current img
                        img.classList.remove(...centerClasses);
                        img.style.opacity = '0';

                        // Call showImages with the next index
                        showImages(currentIndex + 1);
                    }, 3000);
            }

            // Start the infinite loop
            showImages(0);


        }

        else {
            // SHOW ALL singleImg
            singleImg.forEach(function (img) {
                img.style.opacity = '1';
            });
        }

    }
    viewSingle(media320px);
    media320px.onchange = function () {
        viewSingle(media320px);
    }



</script>

</html>